# 需求文档

## 介绍

为Next.js项目创建一个自动sitemap生成功能，能够自动扫描项目中的所有页面路由，并生成符合搜索引擎标准的sitemap.xml文件。该功能需要支持静态页面、动态路由和博客文章的自动发现和包含。

## 需求

### 需求 1

**用户故事：** 作为网站管理员，我希望系统能够自动生成sitemap.xml文件，这样我就不需要手动维护URL列表了。

#### 验收标准

1. 当构建项目时，系统应该自动扫描app目录下的所有页面文件
2. 当发现page.tsx文件时，系统应该将对应的路由添加到sitemap中
3. 当生成sitemap时，系统应该输出符合XML sitemap标准的格式
4. 当sitemap生成完成时，系统应该将文件保存到public/sitemap.xml

### 需求 2

**用户故事：** 作为SEO专员，我希望sitemap包含正确的元数据信息，这样搜索引擎能够更好地理解页面的重要性和更新频率。

#### 验收标准

1. 当生成URL条目时，系统应该包含lastmod（最后修改时间）
2. 当生成URL条目时，系统应该包含changefreq（更新频率）
3. 当生成URL条目时，系统应该包含priority（优先级）
4. 当处理不同类型页面时，系统应该根据页面类型设置不同的默认优先级

### 需求 3

**用户故事：** 作为内容管理员，我希望博客文章能够自动包含在sitemap中，这样新发布的文章能够被搜索引擎快速发现。

#### 验收标准

1. 当扫描博客内容时，系统应该读取src/content/blog目录下的markdown文件
2. 当发现博客文章时，系统应该解析文件名生成对应的URL
3. 当处理博客文章时，系统应该从文件的修改时间获取lastmod信息
4. 当生成博客URL时，系统应该使用适当的优先级和更新频率

### 需求 4

**用户故事：** 作为开发者，我希望sitemap生成器能够处理动态路由，这样包含参数的页面也能被正确索引。

#### 验收标准

1. 当遇到[slug]等动态路由时，系统应该能够识别并处理
2. 当处理动态路由时，系统应该基于实际内容生成具体的URL
3. 当无法确定动态路由的具体值时，系统应该跳过该路由或使用默认处理方式
4. 当生成动态路由URL时，系统应该确保URL的有效性

### 需求 5

**用户故事：** 作为网站维护者，我希望能够配置sitemap的生成选项，这样我可以根据需要调整生成行为。

#### 验收标准

1. 当需要自定义域名时，系统应该支持配置基础URL
2. 当需要排除特定页面时，系统应该支持忽略列表配置
3. 当需要自定义优先级时，系统应该支持页面类型到优先级的映射配置
4. 当配置发生变化时，系统应该在下次构建时应用新的配置